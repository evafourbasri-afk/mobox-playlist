name: Series10000



on:

  workflow_dispatch:



jobs:

  update-series:

    runs-on: ubuntu-latest

    

    steps:

      - name: Checkout repository

        uses: actions/checkout@v4

      

      - name: Set up Python

        uses: actions/setup-python@v4

        with:

          python-version: '3.11'

      

      - name: Install dependencies

        run: |

          python -m pip install --upgrade pip

          pip install -r requirements.txt

      

      - name: Run series script

        run: python series_mb.py

      

      - name: Commit and push changes

        env:

          GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}

        run: |

          git config --local user.email "action@github.com"

          git config --local user.name "GitHub Action"

          git add -A

          git status

          if git diff --cached --quiet; then

            echo "No changes to commit"

          else

            git commit -m "Update Series M3U - $(date +'%Y-%m-%d %H:%M:%S')"

            git push origin main

          fi


